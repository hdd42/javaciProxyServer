(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{qWfu:function(n,t,e){"use strict";e.r(t),e.d(t,"AccountsModule",(function(){return N}));var c=e("ofXK"),o=e("tyNb"),r=e("fXoL"),a=e("mrSG"),s=e("tk/3");let i=(()=>{class n{constructor(n,t,e){this.http=n,this.api=t,this.paths=e}getAccounts(){let n=localStorage.getItem("token"),t=`${this.api}${this.paths.accountList}`,e=new s.e({"Content-Type":"application/json",Authorization:n});return this.http.get(t,{headers:e})}createAccount(n){return Object(a.a)(this,void 0,void 0,(function*(){let t=localStorage.getItem("token"),e=`${this.api}${this.paths.createAccount}`,c=new s.e({"Content-Type":"application/json",Authorization:t}),o=Object.assign(Object.assign({},n),{balance:0,status:"ACTIVE"});return yield this.http.post(e,o,{headers:c}).toPromise()}))}}return n.\u0275fac=function(t){return new(t||n)(r.dc(s.b),r.dc("API"),r.dc("PATHS"))},n.\u0275prov=r.Pb({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var b=e("B+r4"),u=e("JA5x"),l=e("rMZv"),d=e("Ff2k"),z=e("eHCX"),p=e("5vDB"),h=e("ZyQt"),m=e("C2AL"),f=e("FwiY"),g=e("Mean"),Y=e("OzZK");function Z(n,t){1&n&&(r.Zb(0,"nz-tag",15),r.Ub(1,"i",16),r.Zb(2,"span"),r.Lc(3,"Active"),r.Yb(),r.Yb())}function L(n,t){1&n&&(r.Zb(0,"nz-tag",17),r.Ub(1,"i",16),r.Zb(2,"span"),r.Lc(3,"Deactivated"),r.Yb(),r.Yb())}function y(n,t){if(1&n){const n=r.ac();r.Xb(0),r.Zb(1,"tr"),r.Zb(2,"td",8),r.hc("nzExpandChange",(function(e){r.Cc(n);const c=t.$implicit;return r.kc(2).onExpandChange(c.id,e)})),r.Yb(),r.Zb(3,"td"),r.Lc(4),r.Yb(),r.Zb(5,"td"),r.Lc(6),r.Yb(),r.Zb(7,"td"),r.Lc(8),r.Yb(),r.Zb(9,"td"),r.Lc(10),r.Yb(),r.Zb(11,"td"),r.Jc(12,Z,4,0,"nz-tag",9),r.Jc(13,L,4,0,"nz-tag",10),r.Yb(),r.Zb(14,"td"),r.Zb(15,"a",11),r.Lc(16,"Details"),r.Yb(),r.Yb(),r.Yb(),r.Zb(17,"tr",12),r.Zb(18,"span"),r.Zb(19,"nz-list",13),r.Zb(20,"nz-list-item"),r.Zb(21,"span",14),r.Lc(22),r.Ub(23,"nz-divider"),r.Zb(24,"mark"),r.Lc(25," [No recent transaction found]"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Wb()}if(2&n){const n=t.$implicit,e=r.kc(2);r.Db(2),r.sc("nzExpand",e.expandSet.has(n.id)),r.Db(2),r.Mc(n.accountName),r.Db(2),r.Mc(n.description),r.Db(2),r.Mc(n.currency),r.Db(2),r.Mc(n.balance),r.Db(2),r.sc("ngIf","ACTIVE"==n.status),r.Db(1),r.sc("ngIf","ACTIVE"!==n.status),r.Db(2),r.uc("routerLink","/accounts/",n.id,""),r.Db(2),r.sc("nzExpand",e.expandSet.has(n.id)),r.Db(5),r.Nc("Account : ",n.accountNumber," ")}}function v(n,t){if(1&n&&(r.Zb(0,"div"),r.Zb(1,"h3"),r.Lc(2,"Account List"),r.Yb(),r.Zb(3,"nz-table",4,5),r.Zb(5,"thead"),r.Zb(6,"tr"),r.Zb(7,"th",6),r.Lc(8,"#"),r.Yb(),r.Zb(9,"th"),r.Lc(10,"Name"),r.Yb(),r.Zb(11,"th"),r.Lc(12,"Description"),r.Yb(),r.Zb(13,"th"),r.Lc(14,"Currency"),r.Yb(),r.Zb(15,"th"),r.Lc(16,"Balance"),r.Yb(),r.Zb(17,"th"),r.Lc(18,"Status"),r.Yb(),r.Zb(19,"th"),r.Lc(20,"Actions"),r.Yb(),r.Yb(),r.Yb(),r.Zb(21,"tbody"),r.Jc(22,y,26,10,"ng-container",7),r.Yb(),r.Yb(),r.Yb()),2&n){const n=r.Bc(4),t=r.kc();r.Db(3),r.uc("nzFooter","You have ",t.accounts.length," accounts."),r.sc("nzData",t.accounts),r.Db(19),r.sc("ngForOf",n.data)}}function D(n,t){1&n&&(r.Ub(0,"i",25),r.Lc(1," OR"))}function S(n,t){if(1&n&&(r.Xb(0),r.Zb(1,"nz-result",18),r.Zb(2,"div",19),r.Zb(3,"a",20),r.Lc(4,"Go to main page"),r.Yb(),r.Zb(5,"nz-divider",21),r.Jc(6,D,2,0,"ng-template",null,22,r.Kc),r.Yb(),r.Zb(8,"a",23),r.Lc(9,"Create an account!"),r.Ub(10,"i",24),r.Yb(),r.Yb(),r.Yb(),r.Wb()),2&n){const n=r.Bc(7);r.Db(5),r.sc("nzText",n)}}function T(n,t){1&n&&(r.Zb(0,"a",26),r.Lc(1,"Create account "),r.Yb())}const C=function(){return{xs:8,sm:16,md:24,lg:32}};let x=(()=>{class n{constructor(n){this.accountService=n,this.requestInProgress=!1,this.expandSet=new Set}ngOnInit(){this.requestInProgress=!0,this.accountService.getAccounts().subscribe(n=>{console.log("Accounts : ",n),this.accounts=n,this.requestInProgress=!1},n=>{console.log(n),this.requestInProgress=!1})}onCurrentPageDataChange(n){}onExpandChange(n,t){t?this.expandSet.add(n):this.expandSet.delete(n)}}return n.\u0275fac=function(t){return new(t||n)(r.Tb(i))},n.\u0275cmp=r.Nb({type:n,selectors:[["app-accountshome"]],decls:6,vars:7,consts:[["nz-row","",3,"nzGutter"],["nzTitle","Accounts",2,"width","100%",3,"nzLoading","nzBordered","nzExtra"],[4,"ngIf"],["extraTemplate",""],["nzBordered","","nzTitle","List of accounts","nzTableLayout","fixed",3,"nzFooter","nzData"],["borderedTable",""],["nzWidth","60px"],[4,"ngFor","ngForOf"],[3,"nzExpand","nzExpandChange"],["nzColor","success",4,"ngIf"],["nzColor","warning",4,"ngIf"],[3,"routerLink"],[3,"nzExpand"],["nzBordered","","nzHeader","Last 5 Transactions"],["nz-typography",""],["nzColor","success"],["nz-icon","","nzType","check-circle"],["nzColor","warning"],["nzStatus","warning","nzTitle","You don't have any account yet!",1,""],["nz-result-extra",""],["routerLink","/welcome","nz-button","","nzType","primary"],["nzDashed","",3,"nzText"],["text",""],["routerLink","/accounts/create","nz-button","","nzType","link"],["nz-icon","","nzType","add"],["nz-icon","","nzType","plus"],["routerLink","/accounts/create"]],template:function(n,t){if(1&n&&(r.Zb(0,"div",0),r.Zb(1,"nz-card",1),r.Jc(2,v,23,3,"div",2),r.Jc(3,S,11,1,"ng-container",2),r.Yb(),r.Yb(),r.Jc(4,T,2,0,"ng-template",null,3,r.Kc)),2&n){const n=r.Bc(5);r.sc("nzGutter",r.vc(6,C)),r.Db(1),r.sc("nzLoading",t.requestInProgress)("nzBordered",!1)("nzExtra",n),r.Db(1),r.sc("ngIf",t.accounts&&t.accounts.length>0),r.Db(1),r.sc("ngIf",t.accounts&&t.accounts.length<=0)}},directives:[b.c,u.a,c.m,l.b,l.h,l.i,l.a,l.g,l.e,c.l,l.f,o.f,l.j,l.c,d.a,d.b,z.a,p.a,h.a,m.a,f.b,g.a,g.b,Y.a],styles:[""]}),n})();var w=e("3Pt+"),A=e("PScX"),I=e("ocnv"),k=e("PTRe"),P=e("zAKX"),E=e("RwU8");function F(n,t){1&n&&(r.Zb(0,"a",17),r.Lc(1,"Back to account list"),r.Yb())}const q=[{path:"",component:x},{path:"create",component:(()=>{class n{constructor(n,t,e,c){this.fb=n,this.accountService=t,this.router=e,this.message=c,this.requestInProgress=!1}submitForm(){for(const n in this.validateForm.controls)this.validateForm.controls[n].markAsDirty(),this.validateForm.controls[n].updateValueAndValidity();this.validateForm.valid?(this.requestInProgress=!0,console.log("Account Value",this.validateForm.value),this.accountService.createAccount(this.validateForm.value).then(n=>{this.requestInProgress=!0,this.message.info(`Your new account ${[n]} has been created successfully! You are now being redirected to accounts home`),setTimeout(()=>this.router.navigateByUrl("/accounts"),1500)}).catch(n=>{this.requestInProgress=!1,this.message.error("Unable to create a new account! Error : "+n.message)})):(this.requestInProgress=!1,this.message.warning("New account form has errors. PLease fix them first."))}ngOnInit(){this.validateForm=this.fb.group({accountName:[null,[w.o.required]],description:[null,[w.o.required]],currency:[null,[w.o.required]]})}currencyChange(n){console.log(n)}}return n.\u0275fac=function(t){return new(t||n)(r.Tb(w.d),r.Tb(i),r.Tb(o.d),r.Tb(A.e))},n.\u0275cmp=r.Nb({type:n,selectors:[["app-createaccount"]],decls:26,vars:12,consts:[["nzTitle","Create Account",3,"nzBordered","nzExtra"],["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","note",3,"nzSpan"],["nzErrorTip","Please give a name to your new account!",3,"nzSpan"],["id","accountName","type","text","nz-input","","formControlName","accountName"],["nzRequired","","nzFor","description",3,"nzSpan"],["nzErrorTip","Account description!",3,"nzSpan"],["id","description","type","text","nz-input","","formControlName","description"],["nzFor","currency","nzRequired","",3,"nzSpan"],["nzErrorTip","Please select account currency!",3,"nzSpan"],["id","currency","formControlName","currency","nzPlaceHolder","Select currecny for your new account",3,"ngModelChange"],["nzValue","USD","nzLabel","US Dollar"],["nzValue","TL","nzLabel","Turkish Lira"],["nzValue","EURO","nzLabel","Euro"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"nzLoading"],["extraTemplate",""],["routerLink","/accounts"]],template:function(n,t){if(1&n&&(r.Zb(0,"nz-card",0),r.Zb(1,"form",1),r.hc("ngSubmit",(function(){return t.submitForm()})),r.Zb(2,"nz-form-item"),r.Zb(3,"nz-form-label",2),r.Lc(4,"Account Name"),r.Yb(),r.Zb(5,"nz-form-control",3),r.Ub(6,"input",4),r.Yb(),r.Yb(),r.Zb(7,"nz-form-item"),r.Zb(8,"nz-form-label",5),r.Lc(9,"Account Description"),r.Yb(),r.Zb(10,"nz-form-control",6),r.Ub(11,"input",7),r.Yb(),r.Yb(),r.Zb(12,"nz-form-item"),r.Zb(13,"nz-form-label",8),r.Lc(14,"Currency"),r.Yb(),r.Zb(15,"nz-form-control",9),r.Zb(16,"nz-select",10),r.hc("ngModelChange",(function(n){return t.currencyChange(n)})),r.Ub(17,"nz-option",11),r.Ub(18,"nz-option",12),r.Ub(19,"nz-option",13),r.Yb(),r.Yb(),r.Yb(),r.Zb(20,"nz-form-item"),r.Zb(21,"nz-form-control",14),r.Zb(22,"button",15),r.Lc(23,"Create account"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Jc(24,F,2,0,"ng-template",null,16,r.Kc)),2&n){const n=r.Bc(25);r.sc("nzBordered",!1)("nzExtra",n),r.Db(1),r.sc("formGroup",t.validateForm),r.Db(2),r.sc("nzSpan",5),r.Db(2),r.sc("nzSpan",12),r.Db(3),r.sc("nzSpan",5),r.Db(2),r.sc("nzSpan",12),r.Db(3),r.sc("nzSpan",5),r.Db(2),r.sc("nzSpan",12),r.Db(6),r.sc("nzSpan",12)("nzOffset",5),r.Db(1),r.sc("nzLoading",t.requestInProgress)}},directives:[u.a,w.p,w.l,I.b,w.g,b.c,I.c,b.a,I.d,I.a,k.b,w.c,w.k,w.f,P.d,P.a,Y.a,E.a,m.a,o.f],styles:[""]}),n})()}];let U=(()=>{class n{}return n.\u0275mod=r.Rb({type:n}),n.\u0275inj=r.Qb({factory:function(t){return new(t||n)},imports:[[o.g.forChild(q)],o.g]}),n})();var B=e("UXBc");let N=(()=>{class n{}return n.\u0275mod=r.Rb({type:n}),n.\u0275inj=r.Qb({factory:function(t){return new(t||n)},imports:[[c.c,U,B.a,w.h,w.n]]}),n})()}}]);