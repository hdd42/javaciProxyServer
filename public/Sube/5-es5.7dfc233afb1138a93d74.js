function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var c=t[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{qWfu:function(n,t,e){"use strict";e.r(t),e.d(t,"AccountsModule",(function(){return j}));var c,r=e("ofXK"),a=e("tyNb"),o=e("fXoL"),i=e("mrSG"),s=e("tk/3"),u=((c=function(){function n(t,e,c){_classCallCheck(this,n),this.http=t,this.api=e,this.paths=c}return _createClass(n,[{key:"getAccounts",value:function(){var n=localStorage.getItem("token"),t="".concat(this.api).concat(this.paths.accountList),e=new s.e({"Content-Type":"application/json",Authorization:n});return this.http.get(t,{headers:e})}},{key:"createAccount",value:function(n){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,c,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("token"),c="".concat(this.api).concat(this.paths.createAccount),r=new s.e({"Content-Type":"application/json",Authorization:e}),a=Object.assign(Object.assign({},n),{balance:0,status:"ACTIVE"}),t.next=3,this.http.post(c,a,{headers:r}).toPromise();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}}]),n}()).\u0275fac=function(n){return new(n||c)(o.dc(s.b),o.dc("API"),o.dc("PATHS"))},c.\u0275prov=o.Pb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),b=e("B+r4"),l=e("JA5x"),d=e("rMZv"),p=e("Ff2k"),f=e("eHCX"),z=e("5vDB"),h=e("ZyQt"),m=e("C2AL"),g=e("FwiY"),v=e("Mean"),Y=e("OzZK");function Z(n,t){1&n&&(o.Zb(0,"nz-tag",15),o.Ub(1,"i",16),o.Zb(2,"span"),o.Lc(3,"Active"),o.Yb(),o.Yb())}function y(n,t){1&n&&(o.Zb(0,"nz-tag",17),o.Ub(1,"i",16),o.Zb(2,"span"),o.Lc(3,"Deactivated"),o.Yb(),o.Yb())}function C(n,t){if(1&n){var e=o.ac();o.Xb(0),o.Zb(1,"tr"),o.Zb(2,"td",8),o.hc("nzExpandChange",(function(n){o.Cc(e);var c=t.$implicit;return o.kc(2).onExpandChange(c.id,n)})),o.Yb(),o.Zb(3,"td"),o.Lc(4),o.Yb(),o.Zb(5,"td"),o.Lc(6),o.Yb(),o.Zb(7,"td"),o.Lc(8),o.Yb(),o.Zb(9,"td"),o.Lc(10),o.Yb(),o.Zb(11,"td"),o.Jc(12,Z,4,0,"nz-tag",9),o.Jc(13,y,4,0,"nz-tag",10),o.Yb(),o.Zb(14,"td"),o.Zb(15,"a",11),o.Lc(16,"Details"),o.Yb(),o.Yb(),o.Yb(),o.Zb(17,"tr",12),o.Zb(18,"span"),o.Zb(19,"nz-list",13),o.Zb(20,"nz-list-item"),o.Zb(21,"span",14),o.Lc(22),o.Ub(23,"nz-divider"),o.Zb(24,"mark"),o.Lc(25," [No recent transaction found]"),o.Yb(),o.Yb(),o.Yb(),o.Yb(),o.Yb(),o.Yb(),o.Wb()}if(2&n){var c=t.$implicit,r=o.kc(2);o.Db(2),o.sc("nzExpand",r.expandSet.has(c.id)),o.Db(2),o.Mc(c.accountName),o.Db(2),o.Mc(c.description),o.Db(2),o.Mc(c.currency),o.Db(2),o.Mc(c.balance),o.Db(2),o.sc("ngIf","ACTIVE"==c.status),o.Db(1),o.sc("ngIf","ACTIVE"!==c.status),o.Db(2),o.uc("routerLink","/accounts/",c.id,""),o.Db(2),o.sc("nzExpand",r.expandSet.has(c.id)),o.Db(5),o.Nc("Account : ",c.accountNumber," ")}}function L(n,t){if(1&n&&(o.Zb(0,"div"),o.Zb(1,"h3"),o.Lc(2,"Account List"),o.Yb(),o.Zb(3,"nz-table",4,5),o.Zb(5,"thead"),o.Zb(6,"tr"),o.Zb(7,"th",6),o.Lc(8,"#"),o.Yb(),o.Zb(9,"th"),o.Lc(10,"Name"),o.Yb(),o.Zb(11,"th"),o.Lc(12,"Description"),o.Yb(),o.Zb(13,"th"),o.Lc(14,"Currency"),o.Yb(),o.Zb(15,"th"),o.Lc(16,"Balance"),o.Yb(),o.Zb(17,"th"),o.Lc(18,"Status"),o.Yb(),o.Zb(19,"th"),o.Lc(20,"Actions"),o.Yb(),o.Yb(),o.Yb(),o.Zb(21,"tbody"),o.Jc(22,C,26,10,"ng-container",7),o.Yb(),o.Yb(),o.Yb()),2&n){var e=o.Bc(4),c=o.kc();o.Db(3),o.uc("nzFooter","You have ",c.accounts.length," accounts."),o.sc("nzData",c.accounts),o.Db(19),o.sc("ngForOf",e.data)}}function k(n,t){1&n&&(o.Ub(0,"i",25),o.Lc(1," OR"))}function D(n,t){if(1&n&&(o.Xb(0),o.Zb(1,"nz-result",18),o.Zb(2,"div",19),o.Zb(3,"a",20),o.Lc(4,"Go to main page"),o.Yb(),o.Zb(5,"nz-divider",21),o.Jc(6,k,2,0,"ng-template",null,22,o.Kc),o.Yb(),o.Zb(8,"a",23),o.Lc(9,"Create an account!"),o.Ub(10,"i",24),o.Yb(),o.Yb(),o.Yb(),o.Wb()),2&n){var e=o.Bc(7);o.Db(5),o.sc("nzText",e)}}function S(n,t){1&n&&(o.Zb(0,"a",26),o.Lc(1,"Create account "),o.Yb())}var T,w=function(){return{xs:8,sm:16,md:24,lg:32}},x=((T=function(){function n(t){_classCallCheck(this,n),this.accountService=t,this.requestInProgress=!1,this.expandSet=new Set}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.requestInProgress=!0,this.accountService.getAccounts().subscribe((function(t){console.log("Accounts : ",t),n.accounts=t,n.requestInProgress=!1}),(function(t){console.log(t),n.requestInProgress=!1}))}},{key:"onCurrentPageDataChange",value:function(n){}},{key:"onExpandChange",value:function(n,t){t?this.expandSet.add(n):this.expandSet.delete(n)}}]),n}()).\u0275fac=function(n){return new(n||T)(o.Tb(u))},T.\u0275cmp=o.Nb({type:T,selectors:[["app-accountshome"]],decls:6,vars:7,consts:[["nz-row","",3,"nzGutter"],["nzTitle","Accounts",2,"width","100%",3,"nzLoading","nzBordered","nzExtra"],[4,"ngIf"],["extraTemplate",""],["nzBordered","","nzTitle","List of accounts","nzTableLayout","fixed",3,"nzFooter","nzData"],["borderedTable",""],["nzWidth","60px"],[4,"ngFor","ngForOf"],[3,"nzExpand","nzExpandChange"],["nzColor","success",4,"ngIf"],["nzColor","warning",4,"ngIf"],[3,"routerLink"],[3,"nzExpand"],["nzBordered","","nzHeader","Last 5 Transactions"],["nz-typography",""],["nzColor","success"],["nz-icon","","nzType","check-circle"],["nzColor","warning"],["nzStatus","warning","nzTitle","You don't have any account yet!",1,""],["nz-result-extra",""],["routerLink","/welcome","nz-button","","nzType","primary"],["nzDashed","",3,"nzText"],["text",""],["routerLink","/accounts/create","nz-button","","nzType","link"],["nz-icon","","nzType","add"],["nz-icon","","nzType","plus"],["routerLink","/accounts/create"]],template:function(n,t){if(1&n&&(o.Zb(0,"div",0),o.Zb(1,"nz-card",1),o.Jc(2,L,23,3,"div",2),o.Jc(3,D,11,1,"ng-container",2),o.Yb(),o.Yb(),o.Jc(4,S,2,0,"ng-template",null,3,o.Kc)),2&n){var e=o.Bc(5);o.sc("nzGutter",o.vc(6,w)),o.Db(1),o.sc("nzLoading",t.requestInProgress)("nzBordered",!1)("nzExtra",e),o.Db(1),o.sc("ngIf",t.accounts&&t.accounts.length>0),o.Db(1),o.sc("ngIf",t.accounts&&t.accounts.length<=0)}},directives:[b.c,l.a,r.m,d.b,d.h,d.i,d.a,d.g,d.e,r.l,d.f,a.f,d.j,d.c,p.a,p.b,f.a,z.a,h.a,m.a,g.b,v.a,v.b,Y.a],styles:[""]}),T),A=e("3Pt+"),I=e("PScX"),P=e("ocnv"),E=e("PTRe"),F=e("zAKX"),q=e("RwU8");function U(n,t){1&n&&(o.Zb(0,"a",17),o.Lc(1,"Back to account list"),o.Yb())}var B,N,O,_=[{path:"",component:x},{path:"create",component:(B=function(){function n(t,e,c,r){_classCallCheck(this,n),this.fb=t,this.accountService=e,this.router=c,this.message=r,this.requestInProgress=!1}return _createClass(n,[{key:"submitForm",value:function(){var n=this;for(var t in this.validateForm.controls)this.validateForm.controls[t].markAsDirty(),this.validateForm.controls[t].updateValueAndValidity();this.validateForm.valid?(this.requestInProgress=!0,console.log("Account Value",this.validateForm.value),this.accountService.createAccount(this.validateForm.value).then((function(t){n.requestInProgress=!0,n.message.info("Your new account ".concat([t]," has been created successfully! You are now being redirected to accounts home")),setTimeout((function(){return n.router.navigateByUrl("/accounts")}),1500)})).catch((function(t){n.requestInProgress=!1,n.message.error("Unable to create a new account! Error : "+t.message)}))):(this.requestInProgress=!1,this.message.warning("New account form has errors. PLease fix them first."))}},{key:"ngOnInit",value:function(){this.validateForm=this.fb.group({accountName:[null,[A.o.required]],description:[null,[A.o.required]],currency:[null,[A.o.required]]})}},{key:"currencyChange",value:function(n){console.log(n)}}]),n}(),B.\u0275fac=function(n){return new(n||B)(o.Tb(A.d),o.Tb(u),o.Tb(a.d),o.Tb(I.e))},B.\u0275cmp=o.Nb({type:B,selectors:[["app-createaccount"]],decls:26,vars:12,consts:[["nzTitle","Create Account",3,"nzBordered","nzExtra"],["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","note",3,"nzSpan"],["nzErrorTip","Please give a name to your new account!",3,"nzSpan"],["id","accountName","type","text","nz-input","","formControlName","accountName"],["nzRequired","","nzFor","description",3,"nzSpan"],["nzErrorTip","Account description!",3,"nzSpan"],["id","description","type","text","nz-input","","formControlName","description"],["nzFor","currency","nzRequired","",3,"nzSpan"],["nzErrorTip","Please select account currency!",3,"nzSpan"],["id","currency","formControlName","currency","nzPlaceHolder","Select currecny for your new account",3,"ngModelChange"],["nzValue","USD","nzLabel","US Dollar"],["nzValue","TL","nzLabel","Turkish Lira"],["nzValue","EURO","nzLabel","Euro"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary",3,"nzLoading"],["extraTemplate",""],["routerLink","/accounts"]],template:function(n,t){if(1&n&&(o.Zb(0,"nz-card",0),o.Zb(1,"form",1),o.hc("ngSubmit",(function(){return t.submitForm()})),o.Zb(2,"nz-form-item"),o.Zb(3,"nz-form-label",2),o.Lc(4,"Account Name"),o.Yb(),o.Zb(5,"nz-form-control",3),o.Ub(6,"input",4),o.Yb(),o.Yb(),o.Zb(7,"nz-form-item"),o.Zb(8,"nz-form-label",5),o.Lc(9,"Account Description"),o.Yb(),o.Zb(10,"nz-form-control",6),o.Ub(11,"input",7),o.Yb(),o.Yb(),o.Zb(12,"nz-form-item"),o.Zb(13,"nz-form-label",8),o.Lc(14,"Currency"),o.Yb(),o.Zb(15,"nz-form-control",9),o.Zb(16,"nz-select",10),o.hc("ngModelChange",(function(n){return t.currencyChange(n)})),o.Ub(17,"nz-option",11),o.Ub(18,"nz-option",12),o.Ub(19,"nz-option",13),o.Yb(),o.Yb(),o.Yb(),o.Zb(20,"nz-form-item"),o.Zb(21,"nz-form-control",14),o.Zb(22,"button",15),o.Lc(23,"Create account"),o.Yb(),o.Yb(),o.Yb(),o.Yb(),o.Yb(),o.Jc(24,U,2,0,"ng-template",null,16,o.Kc)),2&n){var e=o.Bc(25);o.sc("nzBordered",!1)("nzExtra",e),o.Db(1),o.sc("formGroup",t.validateForm),o.Db(2),o.sc("nzSpan",5),o.Db(2),o.sc("nzSpan",12),o.Db(3),o.sc("nzSpan",5),o.Db(2),o.sc("nzSpan",12),o.Db(3),o.sc("nzSpan",5),o.Db(2),o.sc("nzSpan",12),o.Db(6),o.sc("nzSpan",12)("nzOffset",5),o.Db(1),o.sc("nzLoading",t.requestInProgress)}},directives:[l.a,A.p,A.l,P.b,A.g,b.c,P.c,b.a,P.d,P.a,E.b,A.c,A.k,A.f,F.d,F.a,Y.a,q.a,m.a,a.f],styles:[""]}),B)}],J=((N=function n(){_classCallCheck(this,n)}).\u0275mod=o.Rb({type:N}),N.\u0275inj=o.Qb({factory:function(n){return new(n||N)},imports:[[a.g.forChild(_)],a.g]}),N),R=e("UXBc"),j=((O=function n(){_classCallCheck(this,n)}).\u0275mod=o.Rb({type:O}),O.\u0275inj=o.Qb({factory:function(n){return new(n||O)},imports:[[r.c,J,R.a,A.h,A.n]]}),O)}}]);